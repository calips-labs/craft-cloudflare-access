{% extends "_layouts/cp.twig" %}
{% set title = "Cloudflare Access Test"|t('cloudflare-access') %}

{% block content %}
    <p>
        {{ "This page shows whether your Cloudflare Access login is recognized successfully."|t('cloudflare-access') }}
    </p>

    <hr>

    <h2>
        {{ "JWT Assertion header"|t('cloudflare-access') }}
    </h2>

    {% if jwt %}
        <div class="pane">
            <pre><strong>Cf-Access-Jwt-Assertion:</strong> {{ jwt }}</pre>
        </div>
    {% else %}
        <p class="error">
            {{ 'No JWT header found. Is this application proxied behind Cloudflare and is Cloudflare Access enabled for this URL?'|t('cloudflare-access') }}
        </p>
    {% endif %}

    <hr>
{% endblock %}
